
127.0.0.1 - - [13/Jul/2023 17:30:13] "GET /myaccount?code=001kwi000rxCjQ1AfO000ZDqhm4kwi0a&state=STATE HTTP/1.0" 200 -
[2023-07-13 17:31:12,423] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 40, in handle_wechat_redirect
    print("--------------------------:" + nickname)
TypeError: can only concatenate str (not "NoneType") to str
127.0.0.1 - - [13/Jul/2023 17:31:12] "[35m[1mGET /myaccount?code=001kwi000rxCjQ1AfO000ZDqhm4kwi0a&state=STATE HTTP/1.0[0m" 500 -
[2023-07-13 17:31:26,574] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 40, in handle_wechat_redirect
    print("--------------------------:" + nickname)
TypeError: can only concatenate str (not "NoneType") to str
127.0.0.1 - - [13/Jul/2023 17:31:26] "[35m[1mGET /myaccount?code=001kwi000rxCjQ1AfO000ZDqhm4kwi0a&state=STATE HTTP/1.0[0m" 500 -
127.0.0.1 - - [13/Jul/2023 17:31:40] "GET /myaccount?code=071LBi0000BCjQ1jc6200QLCmK2LBi0z&state=STATE HTTP/1.0" 200 -
[2023-07-13 17:31:46,501] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 40, in handle_wechat_redirect
    print("--------------------------:" + nickname)
TypeError: can only concatenate str (not "NoneType") to str
127.0.0.1 - - [13/Jul/2023 17:31:46] "[35m[1mGET /myaccount?code=021LKD100gnniQ14wD300fbj4N3LKD1Y&state=STATE HTTP/1.0[0m" 500 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 17:32:33] "GET /myaccount?code=021dLQ000285jQ1sfY100G9fF84dLQ0Q&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 17:33:09] "GET /myaccount?code=091UZBFa1MTjEF0XW4Ja1fnCWp2UZBFG&state=STATE HTTP/1.0" 200 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 17:41:49] "GET /myaccount?code=001CtlFa1eDBEF00FtHa1lnrNo2CtlFa&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 17:42:18] "GET /myaccount?code=001Wfj000BYDjQ1dgX000J3XF33Wfj0m&state=STATE HTTP/1.0" 200 -
[2023-07-13 17:43:04,596] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 37, in handle_wechat_redirect
    nickname = response_json.get('nickname').encode('latin1').decode('utf-8')
AttributeError: 'NoneType' object has no attribute 'encode'
127.0.0.1 - - [13/Jul/2023 17:43:04] "[35m[1mGET /myaccount?code=011ukEkl2P2xEb4Dy9nl2nLtpH3ukEkk&state=STATE HTTP/1.0[0m" 500 -
127.0.0.1 - - [13/Jul/2023 17:44:33] "GET /myaccount?code=011yuR000MF5jQ10iW300BcJrY3yuR0m&state=STATE HTTP/1.0" 200 -
[2023-07-13 17:44:48,132] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 37, in handle_wechat_redirect
    nickname = response_json.get('nickname').encode('latin1').decode('utf-8')
AttributeError: 'NoneType' object has no attribute 'encode'
127.0.0.1 - - [13/Jul/2023 17:44:48] "[35m[1mGET /myaccount?code=011yuR000MF5jQ10iW300BcJrY3yuR0m&state=STATE HTTP/1.0[0m" 500 -
[2023-07-13 17:48:36,379] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 37, in handle_wechat_redirect
    nickname = response_json.get('nickname').encode('latin1').decode('utf-8')
AttributeError: 'NoneType' object has no attribute 'encode'
127.0.0.1 - - [13/Jul/2023 17:48:36] "[35m[1mGET /myaccount?code=001Wfj000BYDjQ1dgX000J3XF33Wfj0m&state=STATE HTTP/1.0[0m" 500 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 17:52:08] "[31m[1mGET /myaccount?code=081HcUFa1Uk3EF0SzRHa1MkEme4HcUFK&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 17:52:45] "[31m[1mGET /myaccount?code=001kqTFa1IA2EF07YRFa1dP8al4kqTFP&state=STATE HTTP/1.0[0m" 400 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 17:53:00] "[31m[1mGET /myaccount?code=051X9mFa1nrBEF03HMGa10HgiV1X9mFZ&state=STATE HTTP/1.0[0m" 400 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 17:54:22] "[31m[1mGET /myaccount?code=021D5S000UK5jQ1rJt100ADAGJ3D5S00&state=STATE HTTP/1.0[0m" 400 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
[2023-07-13 17:54:57,236] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 39, in handle_wechat_redirect
    nickname = response_json.get('nickname').encode('latin1').decode('utf-8')
AttributeError: 'NoneType' object has no attribute 'encode'
127.0.0.1 - - [13/Jul/2023 17:54:57] "[35m[1mGET /myaccount?code=081jkDFa1JvkEF09ZHHa16Bybq0jkDFE&state=STATE HTTP/1.0[0m" 500 -
[2023-07-13 17:55:03,626] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 39, in handle_wechat_redirect
    nickname = response_json.get('nickname').encode('latin1').decode('utf-8')
AttributeError: 'NoneType' object has no attribute 'encode'
127.0.0.1 - - [13/Jul/2023 17:55:03] "[35m[1mGET /myaccount?code=041WFyHa1Z9pCF0oHIHa1rkWe61WFyH0&state=STATE HTTP/1.0[0m" 500 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
[2023-07-13 17:55:54,204] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 39, in handle_wechat_redirect
    nickname = response_json.get('nickname').encode('latin1').decode('utf-8')
AttributeError: 'NoneType' object has no attribute 'encode'
127.0.0.1 - - [13/Jul/2023 17:55:54] "[35m[1mGET /myaccount?code=0310xsGa1zwvDF0ST9Ja17V4Nr10xsGa&state=STATE HTTP/1.0[0m" 500 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 17:56:22] "[31m[1mGET /myaccount?code=091GpDFa1vrkEF0RxOIa1ttHWE0GpDFw&state=STATE HTTP/1.0[0m" 400 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 17:57:43] "GET /myaccount?code=011M2ZZv36ceZ03ewG3w31Teei0M2ZZx&state=STATE HTTP/1.0" 200 -
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 41
    print(f"Error occurred during request: {e}")
    ^
IndentationError: expected an indented block
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 18:00:37] "GET /myaccount?code=011MIUFa12T4EF0jqzJa1nCKqR0MIUF3&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 18:01:11] "[31m[1mGET /myaccount?code=051X9mFa1nrBEF03HMGa10HgiV1X9mFZ&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 18:01:28] "GET /myaccount?code=0612PbGa14MNDF0hJcGa1NptB402PbGa&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 18:03:48] "GET /myaccount?code=071HOmFa1mRCEF0dlTFa1oUj2k4HOmFY&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 18:08:15] "GET /myaccount?code=0619Z9100DLPiQ1Ddz000qVK3739Z91k&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 18:12:26] "[31m[1mGET /myaccount?code=011vXdll2TJ0Eb4sSRml241jNt3vXdlp&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 18:34:26] "GET /myaccount?code=021LzF1w36ntX03j6i4w3S8ivm2LzF15&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 18:36:35] "GET /myaccount?code=081GRFFa1kRdEF0tB6Ha1f4aww4GRFFp&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 18:36:52] "GET /myaccount?code=001NVWFa1WLWDF0WeTHa14OdFs3NVWF7&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 18:49:16] "[31m[1mGET /myaccount?code=081GRFFa1kRdEF0tB6Ha1f4aww4GRFFp&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 19:56:25] "[33mGET /myaccount/ HTTP/1.0[0m" 404 -
127.0.0.1 - - [13/Jul/2023 19:57:08] "[33mGET /myaccount/ HTTP/1.0[0m" 404 -
127.0.0.1 - - [13/Jul/2023 19:58:13] "GET /myaccount?code=031t58Ha1TcQCF00CIHa1QwrT82t58Ha&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 19:58:23] "[33mGET /myaccount/ HTTP/1.0[0m" 404 -
127.0.0.1 - - [13/Jul/2023 19:58:51] "[33mGET /myaccount/ HTTP/1.0[0m" 404 -
127.0.0.1 - - [13/Jul/2023 19:59:00] "GET /myaccount?code=091kxE0w3PRyY03CaE2w3FgMbx3kxE0L&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 20:02:57] "GET /myaccount?code=061jPV0w3UoeY03n5d0w30XInq3jPV09&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 20:04:59] "[33mGET /myaccount/ HTTP/1.0[0m" 404 -
127.0.0.1 - - [13/Jul/2023 20:05:44] "[31m[1mGET /myaccount HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 20:06:27] "GET /myaccount?code=081W80100UCViQ1t4q100zzB4c4W801d&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 20:06:31] "[31m[1mGET /myaccount?code=081W80100UCViQ1t4q100zzB4c4W801d&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 20:15:28] "GET /myaccount?code=071ur70w39F3Z03i0W1w3TS7Gi1ur70M&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 20:18:51] "[31m[1mGET /myaccount?code=091kxE0w3PRyY03CaE2w3FgMbx3kxE0L&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 20:23:23] "[31m[1mGET /myaccount?code=071ur70w39F3Z03i0W1w3TS7Gi1ur70M&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 21:33:34] "[31m[1mGET /myaccount?code=031t58Ha1TcQCF00CIHa1QwrT82t58Ha&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 22:21:39] "GET /myaccount?code=021tulFa1G2GEF06I7Ga1bdwrs0tulFB&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 22:37:54] "[31m[1mGET /myaccount?code=021tulFa1G2GEF06I7Ga1bdwrs0tulFB&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 23:12:35] "GET /myaccount?code=051ZAoFa1zsJEF0UZoJa1p69Rl3ZAoFI&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:23:19] "[31m[1mGET /myaccount?code=051ZAoFa1zsJEF0UZoJa1p69Rl3ZAoFI&state=STATE HTTP/1.0[0m" 400 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
[2023-07-13 23:26:27,686] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 58, in handle_wechat_redirect
    return render_template('myaccount.html',nickname=nickname,headimgurl=headimgurl,records=usage_records)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/opt/chatgpt-projects/myaccount/templates/myaccount.html", line 106, in top-level template code
    <td>{{ record.usage_time }}</td>
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'record' is undefined
127.0.0.1 - - [13/Jul/2023 23:26:27] "[35m[1mGET /myaccount?code=031YMZkl2SkVEb4elTol2YEY3r2YMZk5&state=STATE HTTP/1.0[0m" 500 -
[2023-07-13 23:28:54,036] ERROR in app: Exception on /myaccount [GET]
Traceback (most recent call last):
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/opt/chatgpt-projects/myaccount/myaccount.py", line 58, in handle_wechat_redirect
    return render_template('myaccount.html',nickname=nickname,headimgurl=headimgurl,records=usage_records)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/templating.py", line 151, in render_template
    return _render(app, template, context)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/flask/templating.py", line 132, in _render
    rv = template.render(context)
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/opt/chatgpt-projects/myaccount/templates/myaccount.html", line 106, in top-level template code
    <tr>
  File "/usr/local/python3.9.16/lib/python3.9/site-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
jinja2.exceptions.UndefinedError: 'record' is undefined
127.0.0.1 - - [13/Jul/2023 23:28:54] "[35m[1mGET /myaccount?code=0717i6000Mj1kQ1kpg100H26O437i60N&state=STATE HTTP/1.0[0m" 500 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 23:29:03] "GET /myaccount?code=071dBpFa1B2IEF0ZrtHa1tFaBA3dBpF5&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:29:52] "GET /myaccount?code=071qNeGa1tdxFF0Pg9Ja1Kr5lD4qNeGA&state=STATE HTTP/1.0" 200 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [13/Jul/2023 23:30:09] "GET /myaccount?code=001Tm6000dn1kQ13OX300hl0yc0Tm60D&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:30:25] "GET /myaccount?code=011ukj0w33KBZ03LTW0w36kQTs1ukj0w&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:35:57] "[31m[1mGET /myaccount?code=031YMZkl2SkVEb4elTol2YEY3r2YMZk5&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 23:38:57] "GET /myaccount?code=001DcqFa17GLEF09fsGa1HCNZc1DcqF1&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:39:34] "GET /myaccount?code=0212fqFa1AZKEF0Lj8Ha16NrUs12fqF2&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:39:38] "[31m[1mGET /myaccount?code=0212fqFa1AZKEF0Lj8Ha16NrUs12fqF2&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 23:39:42] "GET /myaccount?code=041xQ20w3jAnZ03ewj0w3p6sZw0xQ20b&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:41:29] "GET /myaccount?code=011i0k0w3iwEZ037Gz3w3UxAei0i0k0C&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:44:21] "GET /myaccount?code=051cGfGa1frAFF0mKjHa10axc61cGfGf&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [13/Jul/2023 23:45:23] "[31m[1mGET /myaccount?code=0717i6000Mj1kQ1kpg100H26O437i60N&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [13/Jul/2023 23:52:47] "GET /myaccount?code=011U2rFa1WmKEF0OITFa1uHzrn4U2rFo&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 00:02:15] "[31m[1mGET /myaccount?code=011U2rFa1WmKEF0OITFa1uHzrn4U2rFo&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 02:49:12] "[31m[1mGET /myaccount?code=011i0k0w3iwEZ037Gz3w3UxAei0i0k0C&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 07:49:27] "GET /myaccount?code=001PBYZv3rWqZ03ca43w3Po18j2PBYZd&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 07:51:46] "GET /myaccount?code=0513R2000zC7kQ1Kel000TGjBF43R20V&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 08:01:01] "[31m[1mGET /myaccount?code=0513R2000zC7kQ1Kel000TGjBF43R20V&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 09:42:37] "GET /myaccount?code=091hUN100dGElQ168P200DQvGE2hUN1o&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 09:46:18] "GET /myaccount?code=041v8tFa1UhHEF0QCnHa11KYfz0v8tFI&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 09:52:15] "GET /myaccount?code=071DWBll2LNrFb4H7Zol2tQlwr3DWBlO&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 09:53:22] "[31m[1mGET /myaccount?code=091hUN100dGElQ168P200DQvGE2hUN1o&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 10:03:31] "[31m[1mGET /myaccount?code=071DWBll2LNrFb4H7Zol2tQlwr3DWBlO&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 11:08:04] "GET /myaccount?code=0918Sv000pfkkQ1QhB300gNGVa48Sv01&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 11:25:16] "[31m[1mGET /myaccount?code=0918Sv000pfkkQ1QhB300gNGVa48Sv01&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 11:58:44] "GET /myaccount?code=071CsDkl2RKMEb4QB6ml2tY0Fn2CsDkY&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 12:12:52] "[31m[1mGET /myaccount?code=071CsDkl2RKMEb4QB6ml2tY0Fn2CsDkY&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 12:55:14] "GET /myaccount?code=081KEEFa1pl4FF0l9EIa1zVWjc2KEEFh&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 13:02:51] "[31m[1mGET /myaccount?code=081KEEFa1pl4FF0l9EIa1zVWjc2KEEFh&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 14:13:08] "GET /myaccount?code=091LcY000McTkQ1uqK2008I4mo1LcY0l&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 14:22:30] "GET /myaccount?code=071E11Ga1FvjFF0n7GHa1j7Scx3E11Gk&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 14:24:09] "[31m[1mGET /myaccount?code=091LcY000McTkQ1uqK2008I4mo1LcY0l&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 14:25:23] "GET /myaccount?code=071u6tFa1kqLEF0pVwIa15QLuQ3u6tF0&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 14:28:18] "GET /myaccount?code=001xS50w30ooZ03mVS1w3OS2kD4xS50G&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 14:30:32] "GET /myaccount?code=051YsKFa1RF2FF0xvAGa1VNbkw1YsKFm&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 14:43:29] "[31m[1mGET /myaccount?code=051YsKFa1RF2FF0xvAGa1VNbkw1YsKFm&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 14:46:31] "GET /myaccount?code=001CJpHa1cBDGF0gO2Ia1HWGmy3CJpH0&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 14:50:12] "GET /myaccount?code=081TpJ000BIAkQ1xWH100Wi6QU0TpJ0r&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 14:59:21] "GET /myaccount?code=0612qSGa1SQ4GF0IfgGa1nJdMD02qSGS&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 15:02:09] "GET /myaccount?code=081wr3Ga1q6gFF0PaIGa1nHMsT2wr3G9&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 15:02:40] "[31m[1mGET /myaccount?code=081TpJ000BIAkQ1xWH100Wi6QU0TpJ0r&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 15:03:06] "GET /myaccount?code=08196G0w3UKSZ03gNd1w3sjFf5496G0r&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 15:30:32] "GET /myaccount?code=021VgDGa1deNFF057XGa1Q94mZ0VgDG1&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 15:33:20] "GET /myaccount?code=041Cb52w3Z9e113tOI3w35h8CR3Cb52Q&state=STATE HTTP/1.0" 200 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [14/Jul/2023 15:33:38] "GET /myaccount?code=001CpmGa1spvFF06BOFa1RTdcb2CpmGk&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 15:43:31] "[31m[1mGET /myaccount?code=021VgDGa1deNFF057XGa1Q94mZ0VgDG1&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 16:26:32] "GET /myaccount?code=091tuAFa12EDEF0ejIIa1VyzCg4tuAFn&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 16:34:04] "[31m[1mGET /myaccount?code=091tuAFa12EDEF0ejIIa1VyzCg4tuAFn&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 18:03:56] "GET /myaccount?code=011CnpFa1D6ZEF0tOUHa12tRYr4CnpF4&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 18:04:22] "GET /myaccount?code=081sfp1w3FNq013H3c4w3oLYVk1sfp1b&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 18:04:35] "GET /myaccount?code=071M0nml2igzGb4Uiyll2sEghB2M0nmm&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 18:04:37] "GET /myaccount?code=051Y3Eml2PciGb4LYHml2Yr4VE0Y3EmT&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 18:04:50] "[31m[1mGET /myaccount HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 18:24:09] "[31m[1mGET /myaccount?code=071M0nml2igzGb4Uiyll2sEghB2M0nmm&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 18:46:21] "GET /myaccount?code=011Z0JFa1DlOEF0sfZHa1tOQ9Z2Z0JFV&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 18:46:39] "GET /myaccount?code=091hh6Ha17JJGF0tgKFa1b2Kr13hh6H3&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 18:52:27] "[31m[1mGET /myaccount?code=011Z0JFa1DlOEF0sfZHa1tOQ9Z2Z0JFV&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 18:56:54] "GET /myaccount?code=091n0kll2tbzFb4SaDol2ltlxB0n0kl5&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [14/Jul/2023 19:03:48] "[31m[1mGET /myaccount?code=091n0kll2tbzFb4SaDol2ltlxB0n0kl5&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [14/Jul/2023 19:50:48] "[31m[1mGET /myaccount?code=091n0kll2tbzFb4SaDol2ltlxB0n0kl5&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [15/Jul/2023 08:59:42] "GET /myaccount?code=031SAU0w3LqUZ03HS84w3xUvPU0SAU0v&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [15/Jul/2023 09:25:01] "[31m[1mGET /myaccount?code=031SAU0w3LqUZ03HS84w3xUvPU0SAU0v&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [15/Jul/2023 23:06:58] "[31m[1mGET /myaccount HTTP/1.0[0m" 400 -
127.0.0.1 - - [16/Jul/2023 00:41:54] "GET /myaccount?code=091YZ4100nYfkQ1Oyz2006NS9A2YZ41D&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [16/Jul/2023 00:49:52] "[31m[1mGET /myaccount?code=091YZ4100nYfkQ1Oyz2006NS9A2YZ41D&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [16/Jul/2023 02:29:28] "GET /myaccount?code=0011mz0w3tZrZ03vQR3w3ig9PU01mz0C&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [16/Jul/2023 02:39:10] "[31m[1mGET /myaccount?code=0011mz0w3tZrZ03vQR3w3ig9PU01mz0C&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [16/Jul/2023 15:15:19] "GET /myaccount?code=0515m9Ga1PeNEF0pbdIa1tzyC405m9Gw&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [16/Jul/2023 15:24:10] "[31m[1mGET /myaccount?code=0515m9Ga1PeNEF0pbdIa1tzyC405m9Gw&state=STATE HTTP/1.0[0m" 400 -
 * Serving Flask app 'myaccount'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.4.4:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [17/Jul/2023 10:57:18] "GET /myaccount?code=0116Jh0w3NKS013Y792w3CSDav16Jh0Q&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 11:45:00] "GET /myaccount?code=051WSd100B6akQ1YK7200OJL1V3WSd1c&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 11:45:13] "[31m[1mGET /myaccount?code=0116Jh0w3NKS013Y792w3CSDav16Jh0Q&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [17/Jul/2023 11:49:16] "[31m[1mGET /myaccount HTTP/1.0[0m" 400 -
127.0.0.1 - - [17/Jul/2023 12:34:32] "GET /myaccount?code=091OlpHa119zFF0nCKFa1kFGxL2OlpHU&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 12:35:10] "GET /myaccount?code=071JDrml226eFb4NRKnl27LNyj3JDrm5&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 12:35:47] "[31m[1mGET /myaccount?code=051WSd100B6akQ1YK7200OJL1V3WSd1c&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [17/Jul/2023 12:47:09] "[31m[1mGET /myaccount HTTP/1.0[0m" 400 -
127.0.0.1 - - [17/Jul/2023 18:10:12] "GET /myaccount?code=011yzmGa1xVuGF09afHa1PirBt0yzmG2&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 18:10:36] "GET /myaccount?code=0016BmGa1eTuGF0zXmGa17usLw26BmGj&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 18:10:45] "GET /myaccount?code=041oHf300Ez0oQ1cyk300VKPH50oHf3h&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 18:11:03] "GET /myaccount?code=041GtxFa1gRdGF09MpHa1ZPnhk2GtxFj&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 18:11:28] "GET /myaccount?code=061Kce000h6xlQ1TpV200PXNl93Kce01&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 18:12:19] "GET /myaccount?code=0312RQkl29p9Gb4RfYll27mLHk32RQk7&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 18:12:31] "GET /myaccount?code=071kF5Ga1pCLGF0i0yFa1BgfKB3kF5Gz&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 18:38:11] "GET /myaccount?code=091ie7Ga1qbPGF0kH6Ha1FWCZG2ie7GB&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 18:43:15] "[31m[1mGET /myaccount?code=071kF5Ga1pCLGF0i0yFa1BgfKB3kF5Gz&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [17/Jul/2023 18:59:33] "[31m[1mGET /myaccount?code=091ie7Ga1qbPGF0kH6Ha1FWCZG2ie7GB&state=STATE HTTP/1.0[0m" 400 -
127.0.0.1 - - [17/Jul/2023 22:34:21] "GET /myaccount?code=0011uwFa1ytaGF0GalFa1dOdlI01uwFc&state=STATE HTTP/1.0" 200 -
127.0.0.1 - - [17/Jul/2023 22:35:20] "[31m[1mGET /myaccount HTTP/1.0[0m" 400 -
